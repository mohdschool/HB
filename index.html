<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>لوحة الشرف - مدرسة محمد بن سليمان الغافري</title>
    <style>
        body {
            font-family: 'Tajawal', sans-serif;
            direction: rtl;
            text-align: center;
            background: linear-gradient(to bottom, #1e3c72, #2a5298);
            color: #ffffff;
            margin: 0;
            padding: 0;
        }

        h1, h2 {
            color: #ffdd00;
            text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.7);
        }

        .logo {
            width: 150px;
            height: auto;
            border-radius: 50%;
            box-shadow: 0 4px 20px rgba(255, 221, 0, 0.6);
            animation: rotateLogo 5s infinite linear;
        }

        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            padding: 20px;
        }

        .greeting-box {
            width: 300px;
            height: 150px;
            background-color: rgba(255, 255, 255, 0.1);
            border: 2px solid #ffdd00;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            overflow: hidden;
            position: relative;
        }

        .greeting-text {
            position: absolute;
            width: 100%;
            font-size: 1rem;
            color: #ffdd00;
            text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.7);
            animation: scrollText 15s linear infinite;
        }

        @keyframes scrollText {
            0% { top: 100%; }
            100% { top: -100%; }
        }

        @keyframes rotateLogo {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .controls {
            display: flex;
            justify-content: space-around;
            align-items: center;
            margin: 20px;
        }

        #audioButton, #eventCountdown {
            background-color: #1e3c72;
            color: #ffdd00;
            border: none;
            padding: 10px 20px;
            font-size: 1.2rem;
            border-radius: 5px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        #audioButton:hover, #eventCountdown {
            background-color: #34495e;
        }

        .buttons {
            margin: 20px 0;
        }

        .buttons button {
            background-color: #ffdd00;
            color: #1e3c72;
            border: none;
            padding: 10px 20px;
            font-size: 1.2rem;
            cursor: pointer;
            margin: 0 10px;
            border-radius: 5px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .buttons button:hover {
            background-color: #e6c200;
        }

        table {
            width: 85%;
            margin: 20px auto;
            border-collapse: collapse;
            background-color: rgba(255, 255, 255, 0.1);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            border-radius: 10px;
        }

        th, td {
            padding: 15px;
            text-align: center;
            font-size: 1.2rem;
            border: 1px solid rgba(255, 255, 255, 0.5);
        }

        th {
            background-color: #ffdd00 !important;
            color: #1e3c72 !important;
            font-weight: bold;
            position: sticky;
            top: 0;
            z-index: 9999;
        }

        tr:nth-child(even) {
            background-color: rgba(255, 255, 255, 0.1);
        }

        tr td:nth-child(3) {
            font-weight: bold;
            color: #ffdd00;
            font-size: 1.5rem;
            text-shadow: 0 0 10px #ffdd00, 0 0 20px #ffdd00, 0 0 30px #ffdd00;
            animation: glowing 2s infinite ease-in-out;
        }

        @keyframes glowing {
            0% { text-shadow: 0 0 5px #ffdd00, 0 0 10px #ffdd00, 0 0 15px #ffdd00; }
            50% { text-shadow: 0 0 20px #ffdd00, 0 0 30px #ffdd00, 0 0 40px #ffdd00; }
            100% { text-shadow: 0 0 5px #ffdd00, 0 0 10px #ffdd00, 0 0 15px #ffdd00; }
        }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>

    <audio id="backgroundMusic">
        <source src="https://www.bensound.com/bensound-music/bensound-epic.mp3" type="audio/mp3">
        متصفحك لا يدعم تشغيل الصوت.
    </audio>

    <div class="header-container">
        <div class="greeting-box">
            <div class="greeting-text">
                تولي المدرسة اهتماماً بالغاً بطلبتها المتفوقين في كل الجوانب المتعلقة بالتحصيل الدراسي أو الانضباط السلوكي.<br><br>
                ونظراً لحصاد نتائج الفصل الدراسي الأول وحصول مجموعة من الطلبة على نتائج عالية أهلتهم ليكونوا من أوائل الطلبة بالمدرسة فقد تقرر إقامة حفل مدرسي للطلبة الأوائل على مستوى جميع الفصول، وتكريم المتفوقين بجوائز تشجيعية تزيد من دافعية التعلم لديهم، وتعزز مكانتهم العلمية بين زملائهم الطلبة، وذلك يوم الخميس القادم، 20 / 2 / 2025 م بطابور الصباح.<br><br>
                وتبارك إدارة المدرسة والكادر التدريسي لكل الطلبة المتفوقين، وترجو لهم دوام التوفيق والنجاح.
            </div>
        </div>
        <img src="https://a.top4top.io/p_3316yh3l21.jpg" alt="شعار المدرسة" class="logo">
        <div class="greeting-box">
            <div class="greeting-text">تهنئ مدرسة محمد بن سليمان الغافري طلابها المجيدين وتتمنى لهم دوام التفوق والنجاح في مسيرتهم العلمية والمستقبلية.</div>
        </div>
    </div>

    <div class="controls">
        <div id="eventCountdown"></div>
        <button id="audioButton" onclick="toggleAudio()">تشغيل/إيقاف الموسيقى</button>
    </div>

    <h1>لوحة الشرف للطلبة المجيدين</h1>
    <h2>مدرسة محمد بن سليمان الغافري - الفصل الدراسي الأول 2024/2025</h2>

    <div class="buttons">
        <button onclick="fetchAndShowStudents()">عرض جميع الأسماء</button>
    </div>

    <table id="studentsTable">
        <thead>
            <tr>
                <th>الصورة</th>
                <th>اسم الطالب</th>
                <th>الصف الدراسي</th>
                <th>المجموع</th>
                <th>النسبة المئوية</th>
                <th>المركز</th>
            </tr>
        </thead>
        <tbody id="studentsBody">
            <!-- سيتم إدراج البيانات هنا بواسطة JavaScript -->
        </tbody>
    </table>

    <script>
        const backgroundMusic = document.getElementById('backgroundMusic');

        function toggleAudio() {
            if (backgroundMusic.paused) {
                backgroundMusic.play();
            } else {
                backgroundMusic.pause();
            }
        }

        function fetchAndShowStudents() {
            fetch('https://docs.google.com/spreadsheets/d/e/2PACX-1vQVaGsAkcGBg4m29zjUPN-FzKY4ti2yJVjPteA3PxFlGgmt3yX61VoRpiTbOGysUmRs3n22rDhX9Xlv/pub?gid=1364794714&single=true&output=csv')
                .then(response => response.text())
                .then(data => {
                    const rows = data.split('\n').slice(1);
                    const studentsBody = document.getElementById('studentsBody');
                    studentsBody.innerHTML = '';

                    rows.forEach(row => {
                        const cols = row.split(',');
                        if (cols.length >= 6) {
                            studentsBody.innerHTML += `
                                <tr>
                                    <td><img src="${cols[0]}" alt="صورة الطالب" style="width: 50px; height: 50px; border-radius: 50%;"></td>
                                    <td>${cols[1]}</td>
                                    <td>${cols[2]}</td>
                                    <td>${cols[3]}</td>
                                    <td>${cols[4]}</td>
                                    <td>${cols[5]}</td>
                                </tr>
                            `;
                        }
                    });
                });
        }

        const eventDate = new Date('February 20, 2025 07:10:00').getTime();
        const eventCountdown = document.getElementById('eventCountdown');

        setInterval(() => {
            const now = new Date().getTime();
            const distance = eventDate - now;

            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);

            eventCountdown.innerHTML = `الوقت المتبقي حتى حفل التكريم: ${days} يوم، ${hours} ساعة، ${minutes} دقيقة، ${seconds} ثانية`;

            if (distance < 0) {
                eventCountdown.innerHTML = "تم بدء الحفل!";
            }
        }, 1000);
    </script>
</body>
</html>
